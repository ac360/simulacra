/*!
 * Simulacra.js
 * Version 2.0.2
 * MIT License
 * http://simulacra.js.org/
 */
!function e(t,n,r){function o(a,s){if(!n[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var f=n[a]={exports:{}};t[a][0].call(f.exports,function(e){var n=t[a][1][e];return o(n?n:e)},f,f.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){"use strict";function r(e,t,n,r,i){var a,s;if("object"!=typeof t||null===t)throw new TypeError('Invalid type of value "'+t+'", object expected.');y.set(t,{}),a={},m.set(t,a);for(s in n)a[s]={keyPath:{key:s,root:i.root,target:t},activeNodes:[],previousValues:[],valueIsArray:null},o(e,t,n,s,r)}function o(e,t,n,o,u){function v(){return j[o]}function b(t){var n,a=j[o];return t===a?t:(L&&null!=t?r(e,t,L,u,q):M&&(n=M(u,t,a,q),void 0!==n&&i(u,n,O[p])),j[o]=t,t)}function N(e){var t,n,r,i,s,l,u=O[f];for(I=C.valueIsArray=Array.isArray(e),t=I?e:[e],s=0,l=Math.max(D.length,t.length);s<l;s++)r=t[s],i=D[s],n=r&&r===i?null:x(r,i,s),n&&u.parentNode.insertBefore(n,a(s+1,W)||u);if(t.length!==D.length&&(D.length=W.length=t.length),I)for(t.pop=E,t.push=T,t.shift=A,t.unshift=_,t.splice=P,s=0,l=t.length;s<l;s++)w(t,s);return j[o]=e,e}function w(e,t){var n=e[t];Object.defineProperty(e,t,{get:function(){return n},set:function(r){var o,i,s,l=O[f];n=r,o=e[t],i=D[t],o!==i&&(s=x(o,i,t)),s&&l.parentNode.insertBefore(s,a(t+1,W)||l)},enumerable:!0,configurable:!0})}function k(e,t,n){var r,o=O[f],i=W[n];delete D[n],i&&(delete W[n],I?q.index=n:delete q.index,M?r=M(i,null,t,q):L&&S&&(q.target=t,r=S(i,null,t,q)),r!==h&&o.parentNode.removeChild(i))}function x(t,n,a){var u,f=W[a],c=B;if(void 0===t&&(t=null),void 0===n&&(n=null),null===t)return k(null,n,a),null;if(I?q.index=a:delete q.index,D[a]=t,L)f&&k(t,n,a),c=l(e,B,L),q.target=I?t[a]:t,r(e,t,L,c,q),S&&(q.target=t,S(c,t,null,q));else if(c=f||B.cloneNode(!0),M?(u=M(c,t,n,q),void 0!==u&&i(c,u,O[p])):(null===n&&~g.indexOf(c.tagName)&&c.addEventListener("input",s(O[p],q,o)),i(c,t,O[p])),f)return null;return W[a]=c,c}function E(){var e=this.length-1,t=D[e],n=Array.prototype.pop.call(this);return k(null,t,e),D.length=W.length=this.length,n}function T(){var e,t=O[f],n=this.length,r=n+arguments.length,o=Array.prototype.push.apply(this,arguments);for(r=n+arguments.length;n<r;n++)e=x(this[n],null,n),e&&t.parentNode.insertBefore(e,t),w(this,n);return o}function A(){return k(null,D[0],0),Array.prototype.shift.call(D),Array.prototype.shift.call(W),Array.prototype.shift.call(this)}function _(){var e,t,n,r=O[f],o=this.length,i=Array.prototype.unshift.apply(this,arguments);for(Array.prototype.unshift.apply(D,arguments),Array.prototype.unshift.apply(W,Array(t)),e=0,t=arguments.length;e<t;e++)n=x(arguments[e],null,e),n&&r.parentNode.insertBefore(n,a(arguments.length,W)||r);for(e=o+arguments.length;o<e;o++)w(this,o);return i}function P(e,t){var n,r,o,i,s,l=O[f],u=[];for(n=e,r=e+t;n<r;n++)k(null,D[n],n);for(n=2,r=arguments.length;n<r;n++)u.push(arguments[n]);for(Array.prototype.splice.apply(D,arguments),Array.prototype.splice.apply(W,[e,t].concat(Array(u.length))),i=Array.prototype.splice.apply(this,arguments),n=e+u.length-1,r=e;n>=r;n--)s=x(u[n-e],null,n),s&&l.parentNode.insertBefore(s,a(e+u.length,W)||l);if(o=u.length-t,o<0)D.length=W.length=this.length;else if(o>0)for(n=this.length-o,r=this.length;n<r;n++)w(this,n);return i}var j=y.get(t),C=m.get(t)[o],O=n[o],B=O[0],M=!O[c]&&O[1],L=O[c]&&O[1],S=O[2],q=C.keyPath,W=C.activeNodes,D=C.previousValues,I=C.valueIsArray;O[d]?b(t[o]):N(t[o]),Object.defineProperty(t,o,{get:v,set:O[d]?b:N,enumerable:!0,configurable:!0})}function i(e,t,n){var r;switch(n){case"textContent":r=e.firstChild,r&&!r.nextSibling&&3===r.nodeType?r.textContent=t:e.textContent=t;break;case"checked":e.checked=Boolean(t);break;case"value":e.value!==t&&(e.value=t)}}function a(e,t){var n,r,o;for(n=e,r=t.length;n<r;n++)if(t[n]){o=t[n];break}return o}function s(e,t,n){var r=t.target,o=t.index,i=n;return"number"==typeof o&&(r=r[n],i=o),function(t){r[i]=t.target[e]}}var l=e("./process_nodes"),u=e("./key_map"),f=u.marker,c=u.hasDefinition,d=u.isBoundToParent,p=u.replaceAttribute,h=u.retainElement,y=new WeakMap,m=new WeakMap,g=["INPUT","TEXTAREA"];t.exports=r,r.storeMeta=m},{"./key_map":5,"./process_nodes":6}],2:[function(e,t,n){"use strict";function r(e,t){var n,r,o,i,a,s;for(n=0,r=t.length;n<r;n++)if(s=t[n],"string"==typeof s[0])for(a=e,o=0,i=s.length;o<i;o++){if(!(s[o]in a))throw new Error("Missing "+s.slice(0,o+1).join(".")+" feature which is required.");a=a[s[o]]}else for(a=s[0],o=1,i=s.length;o<i;o++)if(o>1&&(a=a[s[o]]),"undefined"==typeof a)throw new Error("Missing "+s[0].name+s.slice(1,o+1).join(".")+" feature which is required.")}t.exports=r},{}],3:[function(e,t,n){"use strict";function r(e,t){function n(e,t){return function(n){return e(n,t)}}var r={};return void 0===t&&(t=!1),function(o,i,a,s){var l;if(null===i)for(l in e)o.removeEventListener(l,r[l],t);else if(null===a)for(l in e)r[l]=n(e[l],s),o.addEventListener(l,r[l],t)}}function o(e,t,n,r){return function(o,i,u){var f;if("classList"in o)if(null===i){if(e&&o.classList.remove(e),n&&o.classList.add(n),r)return setTimeout(function(){o.parentNode.removeChild(o)},r),a}else null!=i&&null!=u&&t?(o.classList.contains(t)&&(o.classList.remove(t),void o.offsetWidth),o.classList.add(t)):null===u&&e&&(s&&l&&!document.documentElement.contains(o)?(f=new MutationObserver(function(t){var n,r,i,a,s,l;for(n=0,r=t.length;n<r;n++)for(s=t[n],i=0,a=s.addedNodes.length;i<a;i++)l=s.addedNodes[i],l===o&&(void o.offsetWidth,o.classList.add(e),f.disconnect())}),f.observe(document.documentElement,{childList:!0,subtree:!0})):o.classList.add(e))}}var i=e("./key_map"),a=i.retainElement,s="undefined"!=typeof MutationObserver,l="undefined"!=typeof document;t.exports={bindEvents:r,animate:o}},{"./key_map":5}],4:[function(e,t,n){"use strict";function r(e,t,n){var r,i,s=this?this.document:window.document,f=this?this.Node:window.Node;if(p(this||window,[[Object,"defineProperty"],[WeakMap],["document","createTreeWalker"],["Node","prototype","cloneNode"],["Node","prototype","insertBefore"],["Node","prototype","isEqualNode"],["Node","prototype","removeChild"]]),null===e||"object"!=typeof e||h(e))throw new TypeError("First argument must be a singular object.");if(!h(t))throw new TypeError("Second argument must be an array.");if("string"==typeof t[0]){if(i=t[0],t[0]=s.querySelector(i),!t[0])throw new Error('Top-level Node "'+i+'" could not be found in the document.')}else if(!(t[0]instanceof f))throw new TypeError("The first position of the top-level must be either a Node or a CSS selector string.");return t[v]||("content"in t[0]&&(t[0]=t[0].content),o(this,t[0],t[1]),a(t)),r=l(this,t[0],t[1]),u(this,e,t[1],r,{root:e}),n?(d(this,e,t[1],r,n),n):r}function o(e,t,n){var r,s,l,u,f,c,d,p,h=e?e.Element:window.Element,m=[];if("object"!=typeof n)throw new TypeError("The second position must be an object.");for(l in n){if(f=n[l],"function"==typeof f||"object"==typeof f&&null!==f&&!Array.isArray(f))n[l]=f=[t,f];else if("string"==typeof f)n[l]=f=[f];else if(!Array.isArray(f))throw new TypeError('The binding on key "'+l+'" is invalid.');if("string"==typeof f[0]){if(u=f[0],d=t.parentNode||t,p=d.querySelectorAll(u),!p.length)throw new Error('An element for selector "'+u+'" was not found.');for(r=1,s=p.length;r<s;r++)p[r].parentNode.removeChild(p[r]);f[0]=p[0]}else if(!(f[0]instanceof h))throw new TypeError('The first position on key "'+l+'" must be a DOM element or a CSS selector string.');if("content"in f[0]&&(f[0]=f[0].content),c=f[0],"object"==typeof f[1]&&null!==f[1]){if(Object.defineProperty(f,y,{value:!0}),f[2]&&"function"!=typeof f[2])throw new TypeError('The third position on key "'+l+'" must be a function.')}else if(f[1]&&"function"!=typeof f[1])throw new TypeError('The second position on key "'+l+'" must be an object or a function.');if(t!==c){if(m.push([l,c]),!t.contains(c))throw new Error("The bound DOM element must be either contained in or equal to the element in its parent binding.");f[y]?(o(e,c,f[1]),a(f)):(i(f,c),a(f))}else Object.defineProperty(f,g,{value:!0}),f[y]?o(e,c,f[1]):"function"==typeof f[1]?i(f,c):console.warn('A change function was not defined on the key "'+l+'".'),a(f)}for(l in n)for(c=n[l][0],r=0,s=m.length;r<s;r++)if(m[r][1].contains(c)&&m[r][1]!==c)throw new Error('The element for key "'+l+'" is contained in the element for the adjacent key "'+m[r][0]+'".');a(n)}function i(e,t){Object.defineProperty(e,m,{value:~N.indexOf(t.nodeName)?~w.indexOf(t.type)?"checked":"value":"textContent"})}function a(e){Object.defineProperty(e,v,{value:!0}),Object.defineProperty(e,b,{value:null,writable:!0})}var s,l=e("./process_nodes"),u=e("./bind_keys"),f=e("./key_map"),c=e("./helpers"),d=e("./rehydrate"),p=e("./feature_check"),h=Array.isArray,y=f.hasDefinition,m=f.replaceAttribute,g=f.isBoundToParent,v=f.isProcessed,b=f.marker,N=["INPUT","TEXTAREA","PROGRESS"],w=["checkbox","radio"];Object.defineProperty(r,"retainElement",{enumerable:!0,value:f.retainElement}),Object.defineProperty(r,"useCommentNode",{get:function(){return l.useCommentNode},set:function(e){l.useCommentNode=e},enumerable:!0});for(s in c)r[s]=c[s];t.exports=r},{"./bind_keys":1,"./feature_check":2,"./helpers":3,"./key_map":5,"./process_nodes":6,"./rehydrate":7}],5:[function(e,t,n){"use strict";var r,o,i=["hasDefinition","isBoundToParent","isProcessed","marker","replaceAttribute","retainElement"],a={},s="function"==typeof Symbol;for(r=0,o=i.length;r<o;r++)a[i[r]]=s?Symbol(i[r]):"__"+i[r]+"__";t.exports=a},{}],6:[function(e,t,n){"use strict";function r(e,t,n){var a,c,d,p,h,y,m,g,v,b,N,w=e?e.document:window.document;if(d=u.get(n)){t=d.node.cloneNode(!0),g=d.indices,v=0,b=0,N=w.createTreeWalker(t,f,i,!1);for(a in n)if(c=n[a],!c[s]){for(;N.nextNode();){if(v===g[b]){c[l]=N.currentNode,v++;break}v++}b++}}else{t=t.cloneNode(!0),m=o(e,t,n),g=[];for(a in n)c=n[a],c[s]||(d=m.get(c[0]),g.push(d.index),p=d.node,h=p.parentNode,r.useCommentNode?(y=h.insertBefore(w.createComment(' end "'+a+'" '),p),h.insertBefore(w.createComment(' begin "'+a+'" '),y)):y=h.insertBefore(w.createTextNode(""),p),c[l]=y,h.removeChild(p));u.set(n,{node:t.cloneNode(!0),indices:g})}return t}function o(e,t,n){var o,a,s,l,u,c=e?e.document:window.document,d=c.createTreeWalker(t,f,i,!1),p=new WeakMap,h=[],y=0,m=r.useCommentNode?1:0;for(s in n)h.push(n[s][0]);for(;d.nextNode()&&h.length;){for(o=0,a=h.length;o<a;o++)if(l=h[o],d.currentNode.isEqualNode(l)){for(p.set(l,{index:y+m,node:d.currentNode}),r.useCommentNode&&m++,u=c.createTreeWalker(l,f,i,!1);u.nextNode();)m--;h.splice(o,1);break}y++}return p}function i(){return 1}var a=e("./key_map"),s=a.isBoundToParent,l=a.marker,u=new WeakMap,f=4294967295;r.useCommentNode=!1,r.acceptNode=i,t.exports=r,i.acceptNode=i},{"./key_map":5}],7:[function(e,t,n){"use strict";function r(e,t,n,o,a){var p,h,y,m,g,v,b,N,w,k,x,E,T,A,_=e?e.document:window.document;for(p in n)if(h=n[p],w=c.get(t)[p],g=!h[s]&&h[1],v=h[s]&&h[1],b=h[2],N=w.keyPath,h[l])y=t[p],v&&null!=y?i(e,y,v,a,N):g&&g(a,y,null,N);else if(x=w.activeNodes,x.length){for(k=w.valueIsArray,y=k?t[p]:[t[p]],E=0,T=_.createTreeWalker(a,d,f,!1);E<x.length&&T.nextNode();)A=x[E],T.currentNode.isEqualNode(A)&&(x.splice(E,1,T.currentNode),m=y[E],k?N.index=E:delete N.index,v?(r(e,m,v,A,T.currentNode),b&&(N.target=m,b(T.currentNode,m,null,N))):g&&g(T.currentNode,m,null,N),E++);if(E!==x.length)throw new Error('Matching nodes could not be found on key "'+p+'", expected '+x.length+", found "+E+".");A=T.currentNode,h[u]=A.parentNode.insertBefore(_.createTextNode(""),A.nextSibling)}}var o=e("./process_nodes"),i=e("./bind_keys"),a=e("./key_map"),s=a.hasDefinition,l=a.isBoundToParent,u=a.marker,f=o.acceptNode,c=i.storeMeta,d=1;t.exports=r},{"./bind_keys":1,"./key_map":5,"./process_nodes":6}],8:[function(e,t,n){window.simulacra=e("../lib/index")},{"../lib/index":4}]},{},[8]);
